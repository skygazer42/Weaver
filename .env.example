# ===== 模型与网关 =====
# OpenAI 或兼容网关的 API 密钥
OPENAI_API_KEY=sk-...
# OpenAI 兼容基地址（留空则用官方 https://api.openai.com/v1，DeepSeek 用 https://api.deepseek.com/v1）
OPENAI_BASE_URL=
# 主聊天模型（如 gpt-4o-mini、deepseek-chat）
PRIMARY_MODEL=gpt-4o-mini
# 规划/推理模型（若提供商不支持会自动回退到 PRIMARY_MODEL）
REASONING_MODEL=o1-mini
# 是否使用 Azure OpenAI
USE_AZURE=false
# Azure 相关配置
AZURE_API_KEY=
AZURE_ENDPOINT=
AZURE_API_VERSION=2025-03-01-preview
# LLM 请求超时时间（秒）
OPENAI_TIMEOUT=60
# 额外请求体（JSON 字符串，{} 表示无）
OPENAI_EXTRA_BODY={}
# Anthropic API Key（可选）
ANTHROPIC_API_KEY=
# 提示词风格：simple | enhanced | custom
PROMPT_STYLE=enhanced
# 自定义提示词路径（可选）
CUSTOM_AGENT_PROMPT_PATH=
CUSTOM_WRITER_PROMPT_PATH=
# 工具调用开关
AGENT_XML_TOOL_CALLING=false
AGENT_NATIVE_TOOL_CALLING=true
AGENT_EXECUTE_TOOLS=true
AGENT_AUTO_CONTINUE=false
AGENT_MAX_AUTO_CONTINUES=25
AGENT_TOOL_EXECUTION_STRATEGY=sequential

# ===== 工具 / 第三方 =====
# Tavily 搜索
TAVILY_API_KEY=tvly-...
# E2B 代码执行
E2B_API_KEY=e2b_...
# 可选：E2B/PPIO 域名
E2B_DOMAIN=
# 可选：沙盒浏览器模板/调试端口/超时/联网
SANDBOX_TEMPLATE_BROWSER=
SANDBOX_BROWSER_REMOTE_DEBUG_PORT=9223
SANDBOX_TIMEOUT_SECONDS=900
SANDBOX_ALLOW_INTERNET=true
# DashScope（ASR/TTS）
DASHSCOPE_API_KEY=

# ===== 记忆 / 长期存储 =====
# Mem0（可选）
MEM0_API_KEY=
ENABLE_MEMORY=false
MEMORY_NAMESPACE=default
MEMORY_USER_ID=default_user
MEMORY_MAX_ENTRIES=20
MEMORY_TOP_K=5
# LangGraph Store：memory | postgres | redis
MEMORY_STORE_BACKEND=memory
MEMORY_STORE_URL=

# ===== 数据库 =====
DATABASE_URL=

# ===== 运行 / 可观测性 =====
APP_ENV=dev
ENABLE_PROMETHEUS=false

# ===== 应用基础 =====
DEBUG=True
# 允许的 CORS 源（逗号分隔）
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
# LangGraph interrupt-before 节点列表（逗号分隔）
INTERRUPT_BEFORE_NODES=

# ===== 日志 =====
LOG_LEVEL=INFO
LOG_FILE=logs/weaver.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - [%(filename)s:%(lineno)d] - %(message)s
ENABLE_FILE_LOGGING=true
ENABLE_JSON_LOGGING=false

# ===== LangGraph 行为 =====
HUMAN_REVIEW=false
TOOL_APPROVAL=false
MAX_REVISIONS=2
# 并发与限速
MAX_CONCURRENCY=5
SEARCH_BATCH_SIZE=3
API_RATE_LIMIT=0.5
# 工具中间件
TOOL_RETRY=false
TOOL_RETRY_MAX_ATTEMPTS=3
TOOL_RETRY_BACKOFF=1.5
TOOL_CALL_LIMIT=0
STRIP_TOOL_MESSAGES=false
TOOL_SELECTOR=false
TOOL_SELECTOR_MODEL=gpt-4o-mini
TOOL_SELECTOR_MAX_TOOLS=3
TOOL_SELECTOR_ALWAYS_INCLUDE=
TOOL_SELECTOR_PROMPT=
# TODO 中间件
ENABLE_TODO_MIDDLEWARE=false
TODO_SYSTEM_PROMPT=
TODO_TOOL_DESCRIPTION=

# ===== 短期记忆（截断与摘要）=====
TRIM_MESSAGES=false
TRIM_MESSAGES_KEEP_FIRST=2
TRIM_MESSAGES_KEEP_LAST=8
SUMMARY_MESSAGES=false
SUMMARY_MESSAGES_TRIGGER=12
SUMMARY_MESSAGES_KEEP_LAST=4
SUMMARY_MESSAGES_MODEL=gpt-4o-mini
SUMMARY_MESSAGES_WORD_LIMIT=200
CONTEXT_EDIT_TRIGGER_TOKENS=1000
CONTEXT_EDIT_KEEP_TOOLS=3

# ===== Deepsearch =====
DEEPSEARCH_MAX_EPOCHS=3
DEEPSEARCH_QUERY_NUM=5
DEEPSEARCH_RESULTS_PER_QUERY=5
DEEPSEARCH_ENABLE_CRAWLER=false
DEEPSEARCH_SAVE_DATA=false
DEEPSEARCH_SAVE_DIR=eval/deepsearch_data

# ===== MCP（多模型工具桥）=====
ENABLE_MCP=false
MCP_SERVERS={}
