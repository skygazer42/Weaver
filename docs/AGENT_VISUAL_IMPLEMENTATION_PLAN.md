# Weaver Agent å¯è§†åŒ–è¿‡ç¨‹å®æ–½è®¡åˆ’

## ğŸ¯ ç›®æ ‡

å®ç°ç±»ä¼¼ ChatGPT/Manus çš„ Agent åŠŸèƒ½ï¼š
- âœ… å¯ä»¥çœ‹åˆ°ç½‘é¡µæœç´¢/æµè§ˆçš„è¿‡ç¨‹
- âœ… å®æ—¶å±•ç¤º Agent æ“ä½œæ­¥éª¤
- âœ… æ¯æ­¥æ“ä½œè¿”å›æˆªå›¾
- âœ… ä»»åŠ¡è¿›åº¦å¯è§†åŒ–

## ğŸ“Š å½“å‰çŠ¶æ€ vs ç›®æ ‡çŠ¶æ€

| åŠŸèƒ½ | å½“å‰ Weaver | Manus | ç›®æ ‡ | çŠ¶æ€ |
|------|------------|-------|------|------|
| æµè§ˆå™¨å·¥å…· | âœ… æœ‰ | âœ… æœ‰ | âœ… | âœ… å®Œæˆ |
| æˆªå›¾åŠŸèƒ½ | âœ… æœ‰ | âœ… æœ‰ | âœ… | âœ… å®Œæˆ |
| **å®æ—¶æµå¼å±•ç¤ºè¿‡ç¨‹** | âœ… å·²å®ç° | âœ… æœ‰ | âœ… | âœ… å®Œæˆ |
| **ä»»åŠ¡æ­¥éª¤å¯è§†åŒ–** | âœ… å·²å®ç° | âœ… æœ‰ | âœ… | âœ… å®Œæˆ |
| **æˆªå›¾å®æ—¶æ¨é€** | âœ… å·²å®ç° | âœ… æœ‰ | âœ… | âœ… å®Œæˆ |
| ä»»åŠ¡åˆ—è¡¨å·¥å…· | âœ… å·²å®ç° | âœ… æœ‰ | âœ… | âœ… å®Œæˆ |
| æ¡Œé¢è‡ªåŠ¨åŒ–å·¥å…· | âœ… å·²å®ç° | âœ… æœ‰ | âœ… | âœ… å®Œæˆ |
| å‰ç«¯è¿›åº¦æ¡ | â³ å‰ç«¯ç¤ºä¾‹ | âœ… æœ‰ | âœ… | ğŸ“„ æ–‡æ¡£å·²æä¾› |

## ğŸš€ 20 æ­¥å®æ–½è®¡åˆ’

> **å®æ–½è¿›åº¦ï¼š** MVP æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ âœ…

---

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„ï¼ˆæ­¥éª¤ 1-5ï¼‰âœ… å·²å®Œæˆ

#### **æ­¥éª¤ 1ï¼šåˆ†æ Manus çš„æµå¼å“åº”æœºåˆ¶** âœ…
- **ç›®æ ‡**ï¼šç†è§£ Manus å¦‚ä½•å®ç°å·¥å…·æ‰§è¡Œè¿‡ç¨‹çš„å®æ—¶æ¨é€
- **æ–‡ä»¶å‚è€ƒ**ï¼š
  - `agentpress/response_processor.py` - å“åº”å¤„ç†
  - `agentpress/thread_manager.py` - çº¿ç¨‹ç®¡ç†
- **äº¤ä»˜ç‰©**ï¼šæµå¼å“åº”æœºåˆ¶è®¾è®¡æ–‡æ¡£
- **çŠ¶æ€**: âœ… å®Œæˆ

#### **æ­¥éª¤ 2ï¼šè®¾è®¡ Weaver çš„å·¥å…·æ‰§è¡Œäº‹ä»¶ç³»ç»Ÿ** âœ…
- **ç›®æ ‡**ï¼šå®šä¹‰å·¥å…·æ‰§è¡Œè¿‡ç¨‹ä¸­çš„äº‹ä»¶ç±»å‹
- **äº‹ä»¶ç±»å‹**ï¼š
  ```python
  class ToolEvent:
      TOOL_START = "tool_start"      # å·¥å…·å¼€å§‹æ‰§è¡Œ
      TOOL_PROGRESS = "tool_progress" # æ‰§è¡Œè¿›åº¦
      TOOL_SCREENSHOT = "tool_screenshot"  # æˆªå›¾äº‹ä»¶
      TOOL_RESULT = "tool_result"    # æ‰§è¡Œç»“æœ
      TOOL_ERROR = "tool_error"      # æ‰§è¡Œé”™è¯¯
  ```
- **äº¤ä»˜ç‰©**ï¼š`agent/events.py` âœ… å·²åˆ›å»º
- **çŠ¶æ€**: âœ… å®Œæˆ

#### **æ­¥éª¤ 3ï¼šåˆ›å»ºæˆªå›¾å­˜å‚¨å’ŒæœåŠ¡æœºåˆ¶** âœ…
- **ç›®æ ‡**ï¼šå®ç°æˆªå›¾ä¿å­˜å’Œ HTTP è®¿é—®
- **å‚è€ƒ Manus**ï¼š`sb_browser_tool.py` çš„ `_take_screenshot_and_save()` æ–¹æ³•
- **å®ç°å†…å®¹**ï¼š
  ```python
  # 1. æˆªå›¾ä¿å­˜åˆ° screenshots/ ç›®å½•
  # 2. åˆ›å»º /api/screenshots/{filename} ç«¯ç‚¹
  # 3. æˆªå›¾ URL ç”Ÿæˆå’Œè¿”å›
  ```
- **äº¤ä»˜ç‰©**ï¼š
  - `tools/screenshot_service.py` âœ… å·²åˆ›å»º
  - `main.py` æ·»åŠ æˆªå›¾ API è·¯ç”± âœ… å·²æ·»åŠ 
- **çŠ¶æ€**: âœ… å®Œæˆ

#### **æ­¥éª¤ 4ï¼šé‡æ„ sandbox_browser_tools æ”¯æŒäº‹ä»¶å‘é€** âœ…
- **ç›®æ ‡**ï¼šæ¯ä¸ªæ“ä½œå‘é€äº‹ä»¶ï¼ŒåŒ…æ‹¬æˆªå›¾
- **ä¿®æ”¹æ–‡ä»¶**ï¼š`tools/sandbox_browser_tools.py`
- **æ”¹é€ ç¤ºä¾‹**ï¼š
  ```python
  async def _run(self, url: str, ...):
      # å‘é€ TOOL_START äº‹ä»¶
      await self._emit_event(ToolEvent.TOOL_START, {"action": "navigate", "url": url})

      # æ‰§è¡Œæ“ä½œ
      page.goto(url, ...)

      # æˆªå›¾
      screenshot = await self._take_screenshot("navigate")
      await self._emit_event(ToolEvent.TOOL_SCREENSHOT, screenshot)

      # å‘é€ç»“æœ
      await self._emit_event(ToolEvent.TOOL_RESULT, {...})
  ```
- **äº¤ä»˜ç‰©**ï¼šæ”¹é€ åçš„ `sandbox_browser_tools.py` âœ… å·²æ”¹é€ 
- **çŠ¶æ€**: âœ… å®Œæˆ

#### **æ­¥éª¤ 5ï¼šå®ç°äº‹ä»¶åˆ° SSE çš„è½¬æ¢** âœ…
- **ç›®æ ‡**ï¼šå°†å·¥å…·äº‹ä»¶è½¬æ¢ä¸º SSE æµå¼è¾“å‡º
- **å‚è€ƒ Manus**ï¼š`agentpress/response_processor.py` çš„æµå¼å¤„ç†
- **å®ç°ä½ç½®**ï¼š`main.py` çš„ `/api/chat` ç«¯ç‚¹
- **äº¤ä»˜ç‰©**ï¼šSSE äº‹ä»¶æ ¼å¼å®šä¹‰å’Œå‘é€é€»è¾‘ âœ… å·²å®ç°
- **çŠ¶æ€**: âœ… å®Œæˆ

---

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆæ­¥éª¤ 6-12ï¼‰â³ éƒ¨åˆ†å®Œæˆ

#### **æ­¥éª¤ 6ï¼šå‚è€ƒ Manus åˆ›å»º TaskListTool** âœ…
- **ç›®æ ‡**ï¼šå®ç°ä»»åŠ¡åˆ—è¡¨å·¥å…·ï¼Œå±•ç¤ºæ‰§è¡Œæ­¥éª¤
- **å‚è€ƒæ–‡ä»¶**ï¼š`agent/tools/task_list_tool.py`ï¼ˆ40KBï¼‰
- **åŠŸèƒ½**ï¼š
  - åˆ›å»ºä»»åŠ¡
  - æ›´æ–°ä»»åŠ¡çŠ¶æ€ï¼ˆpending/running/completed/failedï¼‰
  - ä»»åŠ¡è¿›åº¦ç™¾åˆ†æ¯”
- **äº¤ä»˜ç‰©**ï¼š`tools/task_list_tool.py` âœ… å·²åˆ›å»º
- **çŠ¶æ€**: âœ… å®Œæˆ
- **å®ç°å·¥å…·**ï¼š
  - `create_tasks` - åˆ›å»ºä»»åŠ¡åˆ—è¡¨
  - `view_tasks` - æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡
  - `update_task` - æ›´æ–°ä»»åŠ¡çŠ¶æ€
  - `get_next_task` - è·å–ä¸‹ä¸€ä¸ªå¾…å¤„ç†ä»»åŠ¡

#### **æ­¥éª¤ 7ï¼šå‚è€ƒ Manus é‡æ„ SandboxBrowserTool** âœ…
- **ç›®æ ‡**ï¼šå®Œæ•´å®ç°æ²™ç›’æµè§ˆå™¨å·¥å…·
- **å‚è€ƒæ–‡ä»¶**ï¼š`agent/tools/sb_browser_tool.py`ï¼ˆ42KBï¼‰
- **å…³é”®åŠŸèƒ½**ï¼š
  - `browser_navigate_to` - å¯¼èˆª
  - `browser_click_element` - ç‚¹å‡»
  - `browser_input_text` - è¾“å…¥
  - `browser_scroll_down` - æ»šåŠ¨
  - `browser_send_keys` - æŒ‰é”®
- **æ¯ä¸ªæ“ä½œéƒ½è¿”å›æˆªå›¾**
- **äº¤ä»˜ç‰©**ï¼šæ”¹è¿›çš„ `tools/sandbox_browser_tools.py` âœ… å·²æ”¹è¿›
- **çŠ¶æ€**: âœ… å®Œæˆ

#### **æ­¥éª¤ 8ï¼šå‚è€ƒ Manus åˆ›å»º SandboxWebSearchTool** âœ…
- **ç›®æ ‡**ï¼šå®ç°æ²™ç›’å†…ç½‘é¡µæœç´¢
- **å‚è€ƒæ–‡ä»¶**ï¼š`agent/tools/sandbox_web_search_tool.py`ï¼ˆ14KBï¼‰
- **åŠŸèƒ½**ï¼š
  - ä½¿ç”¨æœç´¢å¼•æ“æœç´¢
  - è§£ææœç´¢ç»“æœ
  - è¿”å›ç»“æ„åŒ–ç»“æœ + æˆªå›¾
- **äº¤ä»˜ç‰©**ï¼š`tools/sandbox_web_search_tool.py` âœ… å·²åˆ›å»º
- **çŠ¶æ€**: âœ… å®Œæˆ
- **å®ç°å·¥å…·**ï¼š
  - `sandbox_web_search` - æ‰§è¡Œå¯è§†åŒ–æœç´¢ï¼ˆGoogle/Bing/DuckDuckGoï¼‰
  - `sandbox_search_and_click` - æœç´¢å¹¶ç‚¹å‡»æŒ‡å®šç»“æœ
  - `sandbox_extract_search_results` - ä»å½“å‰é¡µé¢æå–æœç´¢ç»“æœ

#### **æ­¥éª¤ 9ï¼šåˆ›å»º ComputerUseTool** âœ…
- **ç›®æ ‡**ï¼šå®ç°ç”µè„‘æ“ä½œå·¥å…·
- **å‚è€ƒæ–‡ä»¶**ï¼š`agent/tools/computer_use_tool.py`ï¼ˆ22KBï¼‰
- **åŠŸèƒ½**ï¼š
  - å±å¹•æˆªå›¾
  - é¼ æ ‡ç‚¹å‡»/ç§»åŠ¨
  - é”®ç›˜è¾“å…¥
- **äº¤ä»˜ç‰©**ï¼š`tools/computer_use_tool.py` âœ… å·²åˆ›å»º
- **çŠ¶æ€**: âœ… å®Œæˆ
- **å®ç°å·¥å…·**ï¼š
  - `computer_move_mouse` - ç§»åŠ¨é¼ æ ‡
  - `computer_click` - ç‚¹å‡»
  - `computer_type` - è¾“å…¥æ–‡æœ¬
  - `computer_press` - æŒ‰é”®/å¿«æ·é”®
  - `computer_scroll` - æ»šåŠ¨
  - `computer_screenshot` - æˆªå›¾
  - `computer_screen_info` - è·å–å±å¹•ä¿¡æ¯
  - `computer_drag` - æ‹–æ‹½
- **ä¾èµ–**ï¼š`pip install pyautogui pillow`

#### **æ­¥éª¤ 10ï¼šå®ç°å·¥å…·æ‰§è¡Œçš„å¹¶è¡Œ/ä¸²è¡Œç­–ç•¥** â³ å¾…å®ç°
- **ç›®æ ‡**ï¼šæ”¯æŒå·¥å…·çš„å¹¶è¡Œå’Œä¸²è¡Œæ‰§è¡Œ
- **å‚è€ƒ Manus**ï¼š`ProcessorConfig.tool_execution_strategy`
- **é…ç½®**ï¼š
  ```python
  class ToolExecutionConfig:
      strategy: Literal["sequential", "parallel"] = "sequential"
      max_parallel: int = 3
  ```
- **äº¤ä»˜ç‰©**ï¼š`agent/tool_executor.py`

#### **æ­¥éª¤ 11ï¼šå®ç°ä¸Šä¸‹æ–‡ç®¡ç†å™¨**
- **ç›®æ ‡**ï¼šç®¡ç†å¯¹è¯å†å²ï¼Œé¿å…è¶…å‡º token é™åˆ¶
- **å‚è€ƒ Manus**ï¼š`agentpress/context_manager.py`
- **åŠŸèƒ½**ï¼š
  - æ¶ˆæ¯æˆªæ–­
  - é‡è¦ä¿¡æ¯ä¿ç•™
  - token è®¡æ•°
- **äº¤ä»˜ç‰©**ï¼š`agent/context_manager.py`

#### **æ­¥éª¤ 12ï¼šå®ç° Agent å¾ªç¯æ§åˆ¶**
- **ç›®æ ‡**ï¼šæ§åˆ¶ Agent çš„è¿­ä»£æ¬¡æ•°å’Œè‡ªåŠ¨ç»§ç»­
- **å‚è€ƒ Manus**ï¼š`agent/run.py` çš„ `AgentConfig`
- **é…ç½®**ï¼š
  ```python
  class AgentRunConfig:
      max_iterations: int = 100
      native_max_auto_continues: int = 3
      enable_thinking: bool = False
  ```
- **äº¤ä»˜ç‰©**ï¼šæ”¹è¿›çš„ `agent/nodes.py`

---

### é˜¶æ®µä¸‰ï¼šé›†æˆå’Œä¼˜åŒ–ï¼ˆæ­¥éª¤ 13-17ï¼‰

#### **æ­¥éª¤ 13ï¼šåˆ›å»ºç»Ÿä¸€çš„å·¥å…·æ³¨å†Œä¸­å¿ƒ**
- **ç›®æ ‡**ï¼šå‚è€ƒ Manus çš„ ToolManager æ¨¡å¼
- **å‚è€ƒæ–‡ä»¶**ï¼š`agent/run.py` çš„ `ToolManager` ç±»
- **åŠŸèƒ½**ï¼š
  - ç»Ÿä¸€æ³¨å†Œæ‰€æœ‰å·¥å…·
  - åŠ¨æ€å¯ç”¨/ç¦ç”¨å·¥å…·
  - å·¥å…·ä¾èµ–ç®¡ç†
- **äº¤ä»˜ç‰©**ï¼šæ”¹è¿›çš„ `agent/agent_tools.py`

#### **æ­¥éª¤ 14ï¼šå®ç° Agent çŠ¶æ€æŒä¹…åŒ–**
- **ç›®æ ‡**ï¼šä¿å­˜ Agent æ‰§è¡ŒçŠ¶æ€ï¼Œæ”¯æŒæ¢å¤
- **å‚è€ƒ Manus**ï¼š`agentpress/thread_manager.py` çš„æ•°æ®åº“æ“ä½œ
- **åŠŸèƒ½**ï¼š
  - æ¶ˆæ¯æŒä¹…åŒ–
  - å·¥å…·è°ƒç”¨è®°å½•
  - æˆªå›¾å…³è”
- **äº¤ä»˜ç‰©**ï¼šæ•°æ®åº“ schema æ›´æ–° + æœåŠ¡ä»£ç 

#### **æ­¥éª¤ 15ï¼šä¼˜åŒ– SSE æµå¼å“åº”æ ¼å¼**
- **ç›®æ ‡**ï¼šå®šä¹‰æ¸…æ™°çš„ SSE äº‹ä»¶æ ¼å¼
- **äº‹ä»¶æ ¼å¼**ï¼š
  ```json
  // å·¥å…·å¼€å§‹
  {"type": "tool_start", "data": {"tool": "browser_navigate", "args": {...}}}

  // æˆªå›¾
  {"type": "screenshot", "data": {"url": "/api/screenshots/xxx.png"}}

  // ä»»åŠ¡è¿›åº¦
  {"type": "task_update", "data": {"id": "1", "status": "running", "progress": 50}}

  // æ–‡æœ¬å†…å®¹
  {"type": "content", "data": {"text": "..."}}

  // å®Œæˆ
  {"type": "done", "data": {"message": "ä»»åŠ¡å®Œæˆ"}}
  ```
- **äº¤ä»˜ç‰©**ï¼šSSE äº‹ä»¶è§„èŒƒæ–‡æ¡£ + ä»£ç å®ç°

#### **æ­¥éª¤ 16ï¼šæ·»åŠ é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶**
- **ç›®æ ‡**ï¼šä¼˜é›…å¤„ç†å·¥å…·æ‰§è¡Œé”™è¯¯
- **å‚è€ƒ Manus**ï¼šé”™è¯¯å¤„ç†æ¨¡å¼
- **åŠŸèƒ½**ï¼š
  - å·¥å…·æ‰§è¡Œè¶…æ—¶
  - è‡ªåŠ¨é‡è¯•
  - é”™è¯¯æ¢å¤
- **äº¤ä»˜ç‰©**ï¼šé”™è¯¯å¤„ç†ä¸­é—´ä»¶

#### **æ­¥éª¤ 17ï¼šå®ç°æµè§ˆå™¨ä¼šè¯å¤ç”¨**
- **ç›®æ ‡**ï¼šåŒä¸€å¯¹è¯å¤ç”¨æµè§ˆå™¨å®ä¾‹
- **å‚è€ƒ**ï¼šå½“å‰çš„ `sandbox_browser_session.py`
- **ä¼˜åŒ–**ï¼š
  - æµè§ˆå™¨é¢„çƒ­
  - ä¼šè¯è¶…æ—¶æ¸…ç†
  - èµ„æºé™åˆ¶
- **äº¤ä»˜ç‰©**ï¼šæ”¹è¿›çš„ `tools/sandbox_browser_session.py`

---

### é˜¶æ®µå››ï¼šå‰ç«¯é€‚é…å’Œæ–‡æ¡£ï¼ˆæ­¥éª¤ 18-20ï¼‰â³ éƒ¨åˆ†å®Œæˆ

#### **æ­¥éª¤ 18ï¼šåˆ›å»ºå‰ç«¯ SSE äº‹ä»¶å¤„ç†ç¤ºä¾‹** âœ…
- **ç›®æ ‡**ï¼šæä¾›å‰ç«¯å¦‚ä½•æ¶ˆè´¹ SSE äº‹ä»¶çš„ç¤ºä¾‹
- **å†…å®¹**ï¼š
  ```javascript
  const eventSource = new EventSource('/api/chat?stream=true');

  eventSource.onmessage = (event) => {
      const data = JSON.parse(event.data);

      switch(data.type) {
          case 'tool_start':
              showToolStarting(data.data);
              break;
          case 'screenshot':
              displayScreenshot(data.data.url);
              break;
          case 'task_update':
              updateTaskProgress(data.data);
              break;
          case 'content':
              appendContent(data.data.text);
              break;
      }
  };
  ```
- **äº¤ä»˜ç‰©**ï¼š`docs/FRONTEND_INTEGRATION.md` âœ… å·²åˆ›å»º
- **çŠ¶æ€**: âœ… å®Œæˆ
- **åŒ…å«å†…å®¹**ï¼š
  - åŸç”Ÿ JavaScript EventSource ç¤ºä¾‹
  - React + TypeScript Hooks ç¤ºä¾‹
  - Vue 3 Composition API ç¤ºä¾‹
  - CSS æ ·å¼ç¤ºä¾‹

#### **æ­¥éª¤ 19ï¼šç¼–å†™å®Œæ•´çš„ API æ–‡æ¡£** â³ å¾…å®ç°
- **ç›®æ ‡**ï¼šæ–‡æ¡£åŒ–æ‰€æœ‰æ–°å¢ API å’Œäº‹ä»¶
- **å†…å®¹**ï¼š
  - SSE äº‹ä»¶æ ¼å¼
  - æˆªå›¾ API
  - å·¥å…·è°ƒç”¨æ ¼å¼
  - é…ç½®é€‰é¡¹
- **äº¤ä»˜ç‰©**ï¼š`docs/AGENT_VISUAL_API.md`

#### **æ­¥éª¤ 20ï¼šåˆ›å»ºç«¯åˆ°ç«¯æµ‹è¯•å’Œæ¼”ç¤º**
- **ç›®æ ‡**ï¼šéªŒè¯å®Œæ•´åŠŸèƒ½
- **æµ‹è¯•ç”¨ä¾‹**ï¼š
  1. ç®€å•ç½‘é¡µæµè§ˆ + æˆªå›¾
  2. æœç´¢ + å¤šæ­¥æ“ä½œ
  3. è¡¨å•å¡«å†™ + æäº¤
  4. é•¿ä»»åŠ¡ + è¿›åº¦å±•ç¤º
- **äº¤ä»˜ç‰©**ï¼š
  - `tests/test_agent_visual.py`
  - æ¼”ç¤ºè„šæœ¬å’Œå½•å±

---

## ğŸ“ æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢æ–‡ä»¶
```
agent/
  â”œâ”€â”€ events.py              # äº‹ä»¶ç³»ç»Ÿ âœ… å·²åˆ›å»º
  â””â”€â”€ context_manager.py     # ä¸Šä¸‹æ–‡ç®¡ç†å™¨ âœ… å·²åˆ›å»º

tools/
  â”œâ”€â”€ screenshot_service.py  # æˆªå›¾æœåŠ¡ âœ… å·²åˆ›å»º
  â”œâ”€â”€ task_list_tool.py      # ä»»åŠ¡åˆ—è¡¨å·¥å…· âœ… å·²åˆ›å»º
  â”œâ”€â”€ sandbox_web_search_tool.py  # æ²™ç›’æœç´¢å·¥å…· âœ… å·²åˆ›å»º
  â””â”€â”€ computer_use_tool.py   # ç”µè„‘æ“ä½œå·¥å…· âœ… å·²åˆ›å»º

triggers/
  â”œâ”€â”€ __init__.py            # è§¦å‘å™¨æ¨¡å— âœ… å·²åˆ›å»º
  â”œâ”€â”€ models.py              # è§¦å‘å™¨æ•°æ®æ¨¡å‹ âœ… å·²åˆ›å»º
  â”œâ”€â”€ manager.py             # è§¦å‘å™¨ç®¡ç†å™¨ âœ… å·²åˆ›å»º
  â”œâ”€â”€ scheduler.py           # å®šæ—¶è§¦å‘å™¨è°ƒåº¦å™¨ âœ… å·²åˆ›å»º
  â””â”€â”€ webhook.py             # Webhookå¤„ç†å™¨ âœ… å·²åˆ›å»º

docs/
  â”œâ”€â”€ AGENT_VISUAL_API.md    # API æ–‡æ¡£ â³ å¾…å®ç°
  â””â”€â”€ FRONTEND_INTEGRATION.md # å‰ç«¯é›†æˆæŒ‡å— âœ… å·²åˆ›å»º

tests/
  â””â”€â”€ test_agent_visual.py   # æµ‹è¯•ç”¨ä¾‹ â³ å¾…å®ç°
```

### ä¿®æ”¹æ–‡ä»¶
```
main.py                       # æ·»åŠ æˆªå›¾ APIã€SSE äº‹ä»¶ä¼˜åŒ– âœ… å·²ä¿®æ”¹
agent/nodes.py               # Agent å¾ªç¯æ§åˆ¶ â³ å¾…ä¼˜åŒ–
agent/agent_tools.py         # å·¥å…·æ³¨å†Œä¼˜åŒ– âœ… å·²ä¿®æ”¹ï¼ˆé›†æˆæ–°å·¥å…·ï¼‰
tools/sandbox_browser_tools.py # æ·»åŠ äº‹ä»¶å‘é€ âœ… å·²ä¿®æ”¹
tools/sandbox_browser_session.py # ä¼šè¯å¤ç”¨ä¼˜åŒ– â³ å¾…ä¼˜åŒ–
```

---

## ğŸ”‘ å…³é”®å‚è€ƒä»£ç 

### Manus æ ¸å¿ƒæ–‡ä»¶å¯¹åº”å…³ç³»

| Manus æ–‡ä»¶ | åŠŸèƒ½ | Weaver å¯¹åº” |
|-----------|------|------------|
| `agentpress/thread_manager.py` | å¯¹è¯çº¿ç¨‹ç®¡ç† | `agent/graph.py` + æ”¹è¿› |
| `agentpress/response_processor.py` | å“åº”å¤„ç†+æµå¼ | `main.py` SSE éƒ¨åˆ† |
| `agent/tools/sb_browser_tool.py` | æµè§ˆå™¨å·¥å…· | `tools/sandbox_browser_tools.py` |
| `agent/tools/task_list_tool.py` | ä»»åŠ¡åˆ—è¡¨ | æ–°å»º |
| `agent/tools/sandbox_web_search_tool.py` | ç½‘é¡µæœç´¢ | æ–°å»º |
| `sandbox/sandbox.py` | æ²™ç›’ç®¡ç† | `tools/sandbox_browser_session.py` |
| `agent/run.py` | Agent è¿è¡Œ | `agent/nodes.py` |

---

## â±ï¸ å»ºè®®æ‰§è¡Œé¡ºåº

### ç¬¬ä¸€å‘¨ï¼šåŸºç¡€åŠŸèƒ½
- æ­¥éª¤ 1-5ï¼ˆåŸºç¡€æ¶æ„ï¼‰
- æ­¥éª¤ 6-7ï¼ˆæ ¸å¿ƒå·¥å…·ï¼‰

### ç¬¬äºŒå‘¨ï¼šå®Œå–„åŠŸèƒ½
- æ­¥éª¤ 8-12ï¼ˆæ›´å¤šå·¥å…· + æ§åˆ¶é€»è¾‘ï¼‰

### ç¬¬ä¸‰å‘¨ï¼šé›†æˆä¼˜åŒ–
- æ­¥éª¤ 13-17ï¼ˆä¼˜åŒ–å’Œå¥å£®æ€§ï¼‰

### ç¬¬å››å‘¨ï¼šæ–‡æ¡£å’Œæµ‹è¯•
- æ­¥éª¤ 18-20ï¼ˆæ–‡æ¡£ + æµ‹è¯•ï¼‰

---

## âœ… å¿«é€ŸéªŒè¯ï¼ˆMVPï¼‰

å¦‚æœæƒ³å¿«é€ŸéªŒè¯æ•ˆæœï¼Œå¯ä»¥å…ˆå®ç°æœ€å°å¯è¡Œç‰ˆæœ¬ï¼š

1. **æ­¥éª¤ 3**ï¼šæˆªå›¾å­˜å‚¨å’ŒæœåŠ¡ï¼ˆ30åˆ†é’Ÿï¼‰
2. **æ­¥éª¤ 5**ï¼šSSE äº‹ä»¶æ ¼å¼ï¼ˆ1å°æ—¶ï¼‰
3. **æ­¥éª¤ 7**ï¼šæµè§ˆå™¨å·¥å…·è¿”å›æˆªå›¾ï¼ˆ2å°æ—¶ï¼‰
4. **æ­¥éª¤ 18**ï¼šå‰ç«¯å±•ç¤ºç¤ºä¾‹ï¼ˆ1å°æ—¶ï¼‰

**é¢„è®¡ 4-5 å°æ—¶å¯ä»¥çœ‹åˆ°åˆæ­¥æ•ˆæœï¼**

---

## ğŸ¤” æ˜¯å¦éœ€è¦æˆ‘å¼€å§‹æ‰§è¡Œï¼Ÿ

è¯·å‘Šè¯‰æˆ‘ï¼š
1. æ˜¯å¦åŒæ„è¿™ä¸ªè®¡åˆ’ï¼Ÿ
2. æƒ³ä»å“ªä¸€æ­¥å¼€å§‹ï¼Ÿ
3. æ˜¯å¦éœ€è¦å…ˆåš MVP å¿«é€ŸéªŒè¯ï¼Ÿ

---

## âœ… å®æ–½æ€»ç»“

### å·²å®ŒæˆåŠŸèƒ½ âœ…
1. **äº‹ä»¶ç³»ç»Ÿ** (`agent/events.py`) - å·¥å…·æ‰§è¡Œäº‹ä»¶å¹¿æ’­
2. **æˆªå›¾æœåŠ¡** (`tools/screenshot_service.py`) - æˆªå›¾å­˜å‚¨å’Œ HTTP è®¿é—®
3. **æµè§ˆå™¨å·¥å…·å¢å¼º** - æ¯ä¸ªæ“ä½œå‘é€äº‹ä»¶å’Œæˆªå›¾
4. **SSE æµå¼æ¨é€** - å®æ—¶æ¨é€å·¥å…·æ‰§è¡ŒçŠ¶æ€
5. **ä»»åŠ¡åˆ—è¡¨å·¥å…·** (`tools/task_list_tool.py`) - ä»»åŠ¡è¿›åº¦ç®¡ç†
6. **æ¡Œé¢è‡ªåŠ¨åŒ–å·¥å…·** (`tools/computer_use_tool.py`) - é¼ æ ‡é”®ç›˜æ“ä½œ
7. **å‰ç«¯é›†æˆæ–‡æ¡£** (`docs/FRONTEND_INTEGRATION.md`) - å®Œæ•´çš„å‰ç«¯ç¤ºä¾‹
8. **ä¸Šä¸‹æ–‡ç®¡ç†å™¨** (`agent/context_manager.py`) - Token è®¡æ•°å’Œæ¶ˆæ¯æˆªæ–­
9. **æ²™ç›’ç½‘é¡µæœç´¢** (`tools/sandbox_web_search_tool.py`) - å¯è§†åŒ–æœç´¢è¿‡ç¨‹
10. **è§¦å‘å™¨ç³»ç»Ÿ** (`triggers/`) - å®šæ—¶/Webhook/äº‹ä»¶è§¦å‘

### å·¥å…·å¯ç”¨æ–¹å¼
åœ¨ agent_profile.enabled_tools ä¸­é…ç½®ï¼š
```json
{
  "web_search": true,
  "browser": true,
  "sandbox_browser": true,
  "sandbox_web_search": true,
  "crawl": true,
  "python": true,
  "task_list": true,
  "computer_use": true,
  "mcp": true
}
```

### ä¾èµ–å®‰è£…
```bash
# æ¡Œé¢è‡ªåŠ¨åŒ–ï¼ˆå¯é€‰ï¼‰
pip install pyautogui pillow

# æ²™ç›’æµè§ˆå™¨ï¼ˆå¯é€‰ï¼‰
pip install playwright
playwright install chromium
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-12-20
**æ›´æ–°æ—¥æœŸ**: 2025-12-21
**ä½œè€…**: Weaver Team
